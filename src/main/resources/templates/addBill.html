<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>支出（报销）新增</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/layui-v2.4.5/layui/css/layui.css" media="all">
    <script src="/js/jquery-3.3.1.min.js"></script>
    <script src="/js/addBill.js"></script>
    <script src="/js/tools.js"></script>
    <script src="/layer-v3.1.1/layer/layer.js"></script>
    <style type="text/css">
        .table-c{
            border-right:1px solid #9F9F9F;
            border-bottom:1px solid #9F9F9F;
            width: 100%;
            background-color: #f2fafe;
        }
        td{
            border-left:1px solid #9F9F9F;
            border-top:1px solid #9F9F9F;
            padding-top: 8px;
            padding-bottom: 8px;
        }
        .firstTd{
            width: 90px;
            text-align: right;
        }
        .thirdTd{
            width: 80px;
            text-align: right;
        }
    </style>
</head>
<body>
<div class="layui-container">
    <div class="layui-row">
        <div class="layui-col-xs-1"></div>
        <div class="layui-col-xs-10">
            <table  class="table-c">
                <caption>支出（报销）新增</caption>
                <tr>
                    <td class="firstTd">报销单号</td>
                    <td><input type="text" style="width: 50px" value="hbf">+<input type="text" value="212121212" readonly style="width: 120px;background-color: #9F9F9F">*自动生成</td>
                    <td class="thirdTd">金额</td>
                    <td><input type="number" style="width: 80px">元（保留两位小数）</td>
                </tr>
                <tr>
                    <td class="firstTd">公司</td>
                    <td><select id="company">
                        <option th:text="${session.staff.companyName}">
                        </option>
                    </select></td>
                    <td class="thirdTd">产生日期</td>
                    <td><input type="date"></td>
                </tr>
                <tr>
                    <td class="firstTd">部门</td>
                    <td><select id="selectDep">

                    </select></td>
                    <td class="thirdTd">登记日期</td>
                    <td><input type="date"></td>
                </tr>
                <tr>
                    <td class="firstTd">类别</td>
                    <td>
                        <input type="radio" name="type">收入
                        <input type="radio" name="type">支出
                    </td>
                    <td rowspan="3" class="thirdTd">摘要
                        (说明费用产生原由</td>
                    <td rowspan="3">
                        <textarea cols="25" style="height: 50px"></textarea>
                    </td>
                </tr>
                <tr>
                    <td class="firstTd">科目</td>
                    <td>
                        <input type="text">
                    </td>
                </tr>
                <tr>
                    <td class="firstTd">业务所属公司</td>
                    <td>
                        <select id="selectCompany" name="selectCompany">
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="firstTd">报销人</td>
                    <td>
                        <input type="text"><span style="cursor: pointer">点击选择</span>
                    </td>
                    <td class="thirdTd">发票</td>
                    <td>
                        <select id="selectInvoiceStatus"></select>
                    </td>
                </tr>
                <tr>
                    <td class="firstTd">经办人</td>
                    <td>
                        <input type="text"><span style="cursor: pointer">点击选择</span>
                    </td>
                    <td class="thirdTd">发票金额</td>
                    <td><input type="number" style="width: 80px">元（保留两位小数）</td>
                </tr>
                <tr>
                    <td class="firstTd">登记人</td>
                    <td>
                        <input type="text" readonly th:value="${session.staff.staffName}"> *系统登陆账号不能修改
                    </td>
                    <td class="thirdTd">合同</td>
                    <td><select id="selectContractStatus"></select></td>
                </tr>
                <tr>
                    <td class="firstTd">属性</td>
                    <td>
                        <input type="radio" name="type2">需要报备
                    </td>
                    <td class="thirdTd"></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="firstTd"></td>
                    <td>
                        <input type="button" value="新增保存" class="layui-btn layui-btn-primary layui-btn-sm">
                    </td>
                    <td class="thirdTd">
                    <td><button id="parentIframe">ceshi</button></td></td>
                </tr>
            </table>
        </div>
    </div>
</div>
<script>
    //iframe层-父子操作
    $('#parentIframe').on('click', function(){
        //弹出一个页面层
            layer.open({
                type: 1,
                area: ['600px', '360px'],
                shadeClose: true, //点击遮罩关闭
                content: "<div class='row'>" +
                    "<select id='childSelectCompany' name='childSelectCompany1'>" +
                    "<option>--请先选择公司--</option>" +
                    "</select>" +
                    "<select id='childSelectDep'></select>" +
                    "<select id='childSelectPerson'></select>" +
                    "</div>"
        });
        var companys = selectCompany();
        for (var i = 0; i <companys.length; i++){
            $("#childSelectCompany").append($("<option>"+companys[i]+"</option>"))
        }
    });

    // $("#childSelectDep").(function () {
    //     var deps = selectDepByCompany($("#childSelectCompany").val());
    //     console.log("sssssss"+deps);
    //     for (var i = 0; i <deps.length; i++){
    //         $("#childSelectDepelectDep").append($("<option>"+deps[i]+"</option>"))
    //     }
    // })

    // $("select[name='childSelectCompany1']").change(function () {
    //     var deps = selectDepByCompany($("#childSelectCompany").val());
    //     console.log("sssssss"+deps);
    //     for (var i = 0; i <deps.length; i++){
    //         $("#childSelectDepelectDep").append($("<option>"+deps[i]+"</option>"))
    //     }
    // })
</script>
</body>
</html>